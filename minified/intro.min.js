(function(a,b){"object"==typeof exports?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a)})(this,function(a){function c(a,b){this.data=a,this.target=b||document.body,this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom"}}function d(){if(introItems=[],self=this,1>this.data.length)return!1;for(var a=0,b=this.data.length;b>a;a++)introItems.push({element:this.data[a].element,intro:this.data[a].message,step:a,position:this.data[a].position||this._options.tooltipPosition,load:this.data[a].load});return introItems.sort(function(a,b){return a.step-b.step}),self._introItems=introItems,m.call(self,this.target)&&(f.call(self),this.target.querySelector(".introjs-skipbutton"),this.target.querySelector(".introjs-nextbutton"),self._onKeyDown=function(a){},window.addEventListener?window.addEventListener("keydown",self._onKeyDown,!0):document.attachEvent&&document.attachEvent("onkeydown",self._onKeyDown)),!1}function e(a){this._currentStep=a-2,this._introItems!==void 0&&f.call(this)}function f(){return this._currentStep===void 0?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep?("function"==typeof this._completeEvent&&this._completeEvent.call(this),h.call(this,this.data),void 0):(j.call(this,"function"==typeof this._introItems[this._currentStep].element?this._introItems[this._currentStep].element():this._introItems[this._currentStep].element),void 0)}function g(){return 0===this._currentStep?!1:(j.call(this,this._introItems[--this._currentStep].element),void 0)}function h(){var a=this.target.querySelector(".introjs-overlay");a.style.opacity=0,setTimeout(function(){a.parentNode&&a.parentNode.removeChild(a)},500);var b=this.target.querySelector(".introjs-helperLayer");b&&b.parentNode.removeChild(b);var c=document.querySelector(".introjs-showElement");c&&(c.className=c.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"")),window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0,void 0!=this._exitEvent&&this._exitEvent.call(this)}function i(a,b,c){var d=n(b);if(b.style.top=null,b.style.right=null,b.style.bottom=null,b.style.left=null,this._introItems[this._currentStep]){var e=this._introItems[this._currentStep].position;switch(e){case"top":b.style.left="15px",b.style.top="-"+(d.height+10)+"px",c.className="introjs-arrow bottom";break;case"right":b.style.right="-"+(d.width+10)+"px",c.className="introjs-arrow left";break;case"left":b.style.top="15px",b.style.left="-"+(d.width+10)+"px",c.className="introjs-arrow right";break;case"bottom":default:b.style.bottom="-"+(d.height+10)+"px",c.className="introjs-arrow top"}}}function j(a){this._changeEvent!==void 0&&this._changeEvent.call(this,a);var b=this,c=document.querySelector(".introjs-helperLayer"),d=n(a);if(null!=c){var e=c.querySelector(".introjs-helperNumberLayer"),j=c.querySelector(".introjs-tooltiptext"),m=c.querySelector(".introjs-arrow"),o=c.querySelector(".introjs-tooltip"),p=c.querySelector(".introjs-skipbutton"),q=c.querySelector(".introjs-prevbutton"),r=c.querySelector(".introjs-nextbutton");o.style.opacity=0,c.setAttribute("style","width: "+(d.width+10)+"px; "+"height:"+(d.height+10)+"px; "+"top:"+(d.top-5)+"px;"+"left: "+(d.left-5)+"px;");var s=document.querySelector(".introjs-showElement");s.className=s.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),b._lastShowElementTimer&&clearTimeout(b._lastShowElementTimer),b._lastShowElementTimer=setTimeout(function(){e.innerHTML=b._introItems[b._currentStep].step,j.innerHTML=b._introItems[b._currentStep].intro,i.call(b,a,o,m),o.style.opacity=1},350)}else{var t=document.createElement("div"),u=document.createElement("span"),v=document.createElement("div"),w=document.createElement("div");t.className="introjs-helperLayer",t.setAttribute("style","width: "+(d.width+10)+"px; "+"height:"+(d.height+10)+"px; "+"top:"+(d.top-5)+"px;"+"left: "+(d.left-5)+"px;"),this.target.appendChild(t),u.className="introjs-helperNumberLayer",v.className="introjs-arrow",w.className="introjs-tooltip",u.innerHTML=this._introItems[this._currentStep].step+1,w.innerHTML='<div class="introjs-tooltiptext">'+this._introItems[this._currentStep].intro+'</div><div class="introjs-tooltipbuttons"></div>',t.appendChild(u),w.appendChild(v),t.appendChild(w);var r=document.createElement("a");r.onclick=function(){b._introItems.length-1!=b._currentStep&&f.call(b)},r.innerHTML=this._introItems.length-1>this._currentStep?this._options.nextLabel:this._options.doneLabel;var q=document.createElement("a");q.onclick=function(){0!=b._currentStep&&g.call(b)},q.href="javascript:void(0);",q.innerHTML=this._options.prevLabel;var p=document.createElement("a");p.className="introjs-button introjs-skipbutton",p.href="javascript:void(0);",p.innerHTML=this._options.skipLabel,p.onclick=function(){h.call(b,b.data)};var x=w.querySelector(".introjs-tooltipbuttons");x.appendChild(p),x.appendChild(q),x.appendChild(r),i.call(b,a,w,v)}0==this._currentStep?(q.className="introjs-button introjs-prevbutton introjs-disabled",r.className="introjs-button introjs-nextbutton",p.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep?(p.innerHTML=this._options.doneLabel,q.className="introjs-button introjs-prevbutton",r.className="introjs-button introjs-nextbutton introjs-disabled"):(q.className="introjs-button introjs-prevbutton",r.className="introjs-button introjs-nextbutton",p.innerHTML=this._options.skipLabel),a.className+=" introjs-showElement";var y="";if(a.currentStyle?y=a.currentStyle.position:document.defaultView&&document.defaultView.getComputedStyle&&(y=document.defaultView.getComputedStyle(a,null).getPropertyValue("position")),y=y.toLowerCase(),"absolute"!==y&&"relative"!==y&&(a.className+=" introjs-relativePosition"),!l(a)){var z=a.getBoundingClientRect(),A=z.bottom-(z.bottom-z.top),B=z.bottom-k().height;0>A?window.scrollBy(0,A-30):window.scrollBy(0,B+100)}this._introItems[this._currentStep].load&&this._introItems[this._currentStep].load(b)}function k(){if(void 0!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var a=document.documentElement;return{width:a.clientWidth,height:a.clientHeight}}function l(a){var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.bottom+80<=window.innerHeight&&b.right<=window.innerWidth}function m(a){var b=document.createElement("div"),c="",d=this;if(b.className="introjs-overlay","body"===a.tagName.toLowerCase())c+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",b.setAttribute("style",c);else{var e=n(a);e&&(c+="width: "+e.width+"px; height:"+e.height+"px; top:"+e.top+"px;left: "+e.left+"px;",b.setAttribute("style",c))}return a.appendChild(b),b.onclick=function(){h.call(d,a)},setTimeout(function(){c+="opacity: .5;",b.setAttribute("style",c)},10),!0}function n(a){if(!a)return console.log("the element you provided is not exist in dom");var b={};b.width=a.offsetWidth,b.height=a.offsetHeight;for(var c=0,d=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)c+=a.offsetLeft,d+=a.offsetTop,a=a.offsetParent;return b.top=d,b.left=c,b}function o(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c}var b="0.3.0",p=function(a){return new c(a)};return p.version=b,p.fn=c.prototype={clone:function(){return new c(this)},setOption:function(a,b){return this._options[a]=b,this},setOptions:function(a){return this._options=o(this._options,a),this},start:function(){return d.call(this),this},goToStep:function(a){return e.call(this,a),this},exit:function(){h.call(this,this.data)},on:function(a,b){if("function"!=typeof b)throw Error("Provided callback is not a function.");"change"==a?this._changeEvent=b:"exit"==a?this._exitEvent=b:"complete"==a&&(this._completeEvent=b)}},a.introJs=p,p});